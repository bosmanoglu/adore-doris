#summary Create and manage Digital Elevation Model.
#labels Phase-Support,Help

=USAGE:=
{{{
	dem operation parameters
	dem make [SRTM1/SRTM3] [extraBufferPercentage] [name]
	dem load [path/to/demfile.dem]
	dem check 
}}}
=DESCRIPTION:=
 DEM is an internal ADORE command.  

 It can generate and load DEM settings to the environment.   

=INPUT:=
 dem: <br>
	defaults to "dem check"
 dem make SRTM1/SRTM3 extraBufferPercentage name
  Calculates the master scene coverage and issues a call to construct_dem.sh<br>
  Area if padded (enlarged) in all directions with the extraBufferPercentage.<br>
  You can call this function with no/some arguments. Defaults are: SRTM3 20 dem <br>

 dem load path/to/demfile.dem<br>
	Load's the specified dem file. 
	Currently supported DEM formats:
	  * output of "dem make"
	  * construct_dem.sh (from TU-DELFT).
	  * ArcGIS .flt files (with .flt and .hdr files should be in the same folder and have the same name.)

 dem check:<br>
	Checks the environment DEM settings and suggests fixes to problems.
 
=OUTPUT:=
  dem make: Generates a folder with the dem. Leaves the hgt files in the current folder.<br>
  dem load: No outputs if success. Updates DORIS settings starting with `sam_,dac_,` and `crd_`.<br>
  dem check: Checks and displays possible problems fixes on stdout.<br>

=FAQ:=
*Why does DEM make leave the some files (.hgt,dds.cr.usgs.gov) in the current folder?*

The idea is to have a central DEM folder and keep all your DEM's in that folder. This way, having the dds.cr.usgs.gov file speeds up the initial indexing of the HTTP site. Also having the ''.hgt files'' may speed up your DEM generation if you create multiple DEM's using the same SRTM tiles, as they will not need to be re-downloaded. 

*Why do I need to have the interferogram result file ($i_resfile) to create a DEM? Why can't it just grab the coordinates from the master result file?*

The `dem make` script also requires to know the orbit incline which is reported by Doris in the coarse_orbits step. Therefore `dem make` will only run after that step is completed. 